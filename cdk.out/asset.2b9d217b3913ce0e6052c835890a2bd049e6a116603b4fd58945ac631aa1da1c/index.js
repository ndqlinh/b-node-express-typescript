"use strict";var Ps=Object.create;var ye=Object.defineProperty;var Ds=Object.getOwnPropertyDescriptor;var _s=Object.getOwnPropertyNames;var Cs=Object.getPrototypeOf,Gs=Object.prototype.hasOwnProperty;var l=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Bs=(e,r)=>{for(var t in r)ye(e,t,{get:r[t],enumerable:!0})},Fr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of _s(r))!Gs.call(e,i)&&i!==t&&ye(e,i,{get:()=>r[i],enumerable:!(n=Ds(r,i))||n.enumerable});return e};var Us=(e,r,t)=>(t=e!=null?Ps(Cs(e)):{},Fr(r||!e||!e.__esModule?ye(t,"default",{value:e,enumerable:!0}):t,e)),Vs=e=>Fr(ye({},"__esModule",{value:!0}),e);var Y=l((ke,Mr)=>{var Se=require("buffer"),q=Se.Buffer;function Hr(e,r){for(var t in e)r[t]=e[t]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?Mr.exports=Se:(Hr(Se,ke),ke.Buffer=V);function V(e,r,t){return q(e,r,t)}V.prototype=Object.create(q.prototype);Hr(q,V);V.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return q(e,r,t)};V.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=q(e);return r!==void 0?typeof t=="string"?n.fill(r,t):n.fill(r):n.fill(0),n};V.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return q(e)};V.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Se.SlowBuffer(e)}});var ze=l((oh,Xr)=>{var ve=Y().Buffer,Hs=require("stream"),Ms=require("util");function we(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=ve.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=ve.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}Ms.inherits(we,Hs);we.prototype.write=function(r){this.buffer=ve.concat([this.buffer,ve.from(r)]),this.emit("data",r)};we.prototype.end=function(r){r&&this.write(r),this.emit("end",r),this.emit("close"),this.writable=!1,this.readable=!1};Xr.exports=we});var Yr=l((ah,Kr)=>{"use strict";var ie=require("buffer").Buffer,Ze=require("buffer").SlowBuffer;Kr.exports=be;function be(e,r){if(!ie.isBuffer(e)||!ie.isBuffer(r)||e.length!==r.length)return!1;for(var t=0,n=0;n<e.length;n++)t|=e[n]^r[n];return t===0}be.install=function(){ie.prototype.equal=Ze.prototype.equal=function(r){return be(this,r)}};var Xs=ie.prototype.equal,Ks=Ze.prototype.equal;be.restore=function(){ie.prototype.equal=Xs,Ze.prototype.equal=Ks}});var Wr=l((ch,Jr)=>{"use strict";function Qe(e){var r=(e/8|0)+(e%8===0?0:1);return r}var Ys={ES256:Qe(256),ES384:Qe(384),ES512:Qe(521)};function Js(e){var r=Ys[e];if(r)return r;throw new Error('Unknown algorithm "'+e+'"')}Jr.exports=Js});var tt=l((uh,rt)=>{"use strict";var Ie=Y().Buffer,zr=Wr(),Re=128,Zr=0,Ws=32,ks=16,zs=2,Qr=ks|Ws|Zr<<6,Ae=zs|Zr<<6;function Zs(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function et(e){if(Ie.isBuffer(e))return e;if(typeof e=="string")return Ie.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function Qs(e,r){e=et(e);var t=zr(r),n=t+1,i=e.length,s=0;if(e[s++]!==Qr)throw new Error('Could not find expected "seq"');var o=e[s++];if(o===(Re|1)&&(o=e[s++]),i-s<o)throw new Error('"seq" specified length of "'+o+'", only "'+(i-s)+'" remaining');if(e[s++]!==Ae)throw new Error('Could not find expected "int" for "r"');var c=e[s++];if(i-s-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(i-s-2)+'" available');if(n<c)throw new Error('"r" specified length of "'+c+'", max of "'+n+'" is acceptable');var f=s;if(s+=c,e[s++]!==Ae)throw new Error('Could not find expected "int" for "s"');var u=e[s++];if(i-s!==u)throw new Error('"s" specified length of "'+u+'", expected "'+(i-s)+'"');if(n<u)throw new Error('"s" specified length of "'+u+'", max of "'+n+'" is acceptable');var h=s;if(s+=u,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var a=t-c,g=t-u,d=Ie.allocUnsafe(a+c+g+u);for(s=0;s<a;++s)d[s]=0;e.copy(d,s,f+Math.max(-a,0),f+c),s=t;for(var w=s;s<w+g;++s)d[s]=0;return e.copy(d,s,h+Math.max(-g,0),h+u),d=d.toString("base64"),d=Zs(d),d}function kr(e,r,t){for(var n=0;r+n<t&&e[r+n]===0;)++n;var i=e[r+n]>=Re;return i&&--n,n}function eo(e,r){e=et(e);var t=zr(r),n=e.length;if(n!==t*2)throw new TypeError('"'+r+'" signatures must be "'+t*2+'" bytes, saw "'+n+'"');var i=kr(e,0,t),s=kr(e,t,e.length),o=t-i,c=t-s,f=1+1+o+1+1+c,u=f<Re,h=Ie.allocUnsafe((u?2:3)+f),a=0;return h[a++]=Qr,u?h[a++]=f:(h[a++]=Re|1,h[a++]=f&255),h[a++]=Ae,h[a++]=o,i<0?(h[a++]=0,a+=e.copy(h,a,0,t)):a+=e.copy(h,a,i,t),h[a++]=Ae,h[a++]=c,s<0?(h[a++]=0,e.copy(h,a,t)):e.copy(h,a,t+s),h}rt.exports={derToJose:Qs,joseToDer:eo}});var tr=l((fh,lt)=>{var ro=Yr(),W=Y().Buffer,j=require("crypto"),it=tt(),nt=require("util"),to=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,se="secret must be a string or buffer",J="key must be a string or a buffer",no="key must be a string, a buffer or an object",er=typeof j.createPublicKey=="function";er&&(J+=" or a KeyObject",se+="or a KeyObject");function st(e){if(!W.isBuffer(e)&&typeof e!="string"&&(!er||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw x(J)}function ot(e){if(!W.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw x(no)}function io(e){if(!W.isBuffer(e)){if(typeof e=="string")return e;if(!er||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw x(se)}}function rr(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function at(e){e=e.toString();var r=4-e.length%4;if(r!==4)for(var t=0;t<r;++t)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function x(e){var r=[].slice.call(arguments,1),t=nt.format.bind(nt,e).apply(null,r);return new TypeError(t)}function so(e){return W.isBuffer(e)||typeof e=="string"}function oe(e){return so(e)||(e=JSON.stringify(e)),e}function ct(e){return function(t,n){io(n),t=oe(t);var i=j.createHmac("sha"+e,n),s=(i.update(t),i.digest("base64"));return rr(s)}}function oo(e){return function(t,n,i){var s=ct(e)(t,i);return ro(W.from(n),W.from(s))}}function ut(e){return function(t,n){ot(n),t=oe(t);var i=j.createSign("RSA-SHA"+e),s=(i.update(t),i.sign(n,"base64"));return rr(s)}}function ft(e){return function(t,n,i){st(i),t=oe(t),n=at(n);var s=j.createVerify("RSA-SHA"+e);return s.update(t),s.verify(i,n,"base64")}}function ao(e){return function(t,n){ot(n),t=oe(t);var i=j.createSign("RSA-SHA"+e),s=(i.update(t),i.sign({key:n,padding:j.constants.RSA_PKCS1_PSS_PADDING,saltLength:j.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return rr(s)}}function co(e){return function(t,n,i){st(i),t=oe(t),n=at(n);var s=j.createVerify("RSA-SHA"+e);return s.update(t),s.verify({key:i,padding:j.constants.RSA_PKCS1_PSS_PADDING,saltLength:j.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function uo(e){var r=ut(e);return function(){var n=r.apply(null,arguments);return n=it.derToJose(n,"ES"+e),n}}function fo(e){var r=ft(e);return function(n,i,s){i=it.joseToDer(i,"ES"+e).toString("base64");var o=r(n,i,s);return o}}function lo(){return function(){return""}}function ho(){return function(r,t){return t===""}}lt.exports=function(r){var t={hs:ct,rs:ut,ps:ao,es:uo,none:lo},n={hs:oo,rs:ft,ps:co,es:fo,none:ho},i=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw x(to,r);var s=(i[1]||i[3]).toLowerCase(),o=i[2];return{sign:t[s](o),verify:n[s](o)}}});var nr=l((lh,ht)=>{var po=require("buffer").Buffer;ht.exports=function(r){return typeof r=="string"?r:typeof r=="number"||po.isBuffer(r)?r.toString():JSON.stringify(r)}});var gt=l((hh,yt)=>{var mo=Y().Buffer,pt=ze(),Eo=tr(),yo=require("stream"),mt=nr(),ir=require("util");function dt(e,r){return mo.from(e,r).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function go(e,r,t){t=t||"utf8";var n=dt(mt(e),"binary"),i=dt(mt(r),t);return ir.format("%s.%s",n,i)}function Et(e){var r=e.header,t=e.payload,n=e.secret||e.privateKey,i=e.encoding,s=Eo(r.alg),o=go(r,t,i),c=s.sign(o,n);return ir.format("%s.%s",o,c)}function Te(e){var r=e.secret||e.privateKey||e.key,t=new pt(r);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new pt(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}ir.inherits(Te,yo);Te.prototype.sign=function(){try{var r=Et({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",r),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}};Te.sign=Et;yt.exports=Te});var Nt=l((ph,$t)=>{var vt=Y().Buffer,St=ze(),So=tr(),vo=require("stream"),wt=nr(),wo=require("util"),bo=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function Io(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ro(e){if(Io(e))return e;try{return JSON.parse(e)}catch{return}}function bt(e){var r=e.split(".",1)[0];return Ro(vt.from(r,"base64").toString("binary"))}function Ao(e){return e.split(".",2).join(".")}function It(e){return e.split(".")[2]}function To(e,r){r=r||"utf8";var t=e.split(".")[1];return vt.from(t,"base64").toString(r)}function Rt(e){return bo.test(e)&&!!bt(e)}function At(e,r,t){if(!r){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=wt(e);var i=It(e),s=Ao(e),o=So(r);return o.verify(s,i,t)}function Tt(e,r){if(r=r||{},e=wt(e),!Rt(e))return null;var t=bt(e);if(!t)return null;var n=To(e);return(t.typ==="JWT"||r.json)&&(n=JSON.parse(n,r.encoding)),{header:t,payload:n,signature:It(e)}}function k(e){e=e||{};var r=e.secret||e.publicKey||e.key,t=new St(r);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new St(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}wo.inherits(k,vo);k.prototype.verify=function(){try{var r=At(this.signature.buffer,this.algorithm,this.key.buffer),t=Tt(this.signature.buffer,this.encoding);return this.emit("done",r,t),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};k.decode=Tt;k.isValid=Rt;k.verify=At;$t.exports=k});var Ne=l(C=>{var Ot=gt(),$e=Nt(),$o=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];C.ALGORITHMS=$o;C.sign=Ot.sign;C.verify=$e.verify;C.decode=$e.decode;C.isValid=$e.isValid;C.createSign=function(r){return new Ot(r)};C.createVerify=function(r){return new $e(r)}});var sr=l((dh,xt)=>{var No=Ne();xt.exports=function(e,r){r=r||{};var t=No.decode(e,r);if(!t)return null;var n=t.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return r.complete===!0?{header:t.header,payload:n,signature:t.signature}:n}});var ae=l((Eh,Lt)=>{var Oe=function(e,r){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,r&&(this.inner=r)};Oe.prototype=Object.create(Error.prototype);Oe.prototype.constructor=Oe;Lt.exports=Oe});var or=l((yh,jt)=>{var qt=ae(),xe=function(e,r){qt.call(this,e),this.name="NotBeforeError",this.date=r};xe.prototype=Object.create(qt.prototype);xe.prototype.constructor=xe;jt.exports=xe});var ar=l((gh,Dt)=>{var Pt=ae(),Le=function(e,r){Pt.call(this,e),this.name="TokenExpiredError",this.expiredAt=r};Le.prototype=Object.create(Pt.prototype);Le.prototype.constructor=Le;Dt.exports=Le});var Ct=l((Sh,_t)=>{var z=1e3,Z=z*60,Q=Z*60,F=Q*24,Oo=F*7,xo=F*365.25;_t.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return Lo(e);if(t==="number"&&isFinite(e))return r.long?jo(e):qo(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Lo(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*xo;case"weeks":case"week":case"w":return t*Oo;case"days":case"day":case"d":return t*F;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Q;case"minutes":case"minute":case"mins":case"min":case"m":return t*Z;case"seconds":case"second":case"secs":case"sec":case"s":return t*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function qo(e){var r=Math.abs(e);return r>=F?Math.round(e/F)+"d":r>=Q?Math.round(e/Q)+"h":r>=Z?Math.round(e/Z)+"m":r>=z?Math.round(e/z)+"s":e+"ms"}function jo(e){var r=Math.abs(e);return r>=F?qe(e,r,F,"day"):r>=Q?qe(e,r,Q,"hour"):r>=Z?qe(e,r,Z,"minute"):r>=z?qe(e,r,z,"second"):e+" ms"}function qe(e,r,t,n){var i=r>=t*1.5;return Math.round(e/t)+" "+n+(i?"s":"")}});var cr=l((vh,Gt)=>{var Po=Ct();Gt.exports=function(e,r){var t=r||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=Po(e);return typeof n>"u"?void 0:Math.floor(t+n/1e3)}else return typeof e=="number"?t+e:void 0}});var ce=l((wh,Bt)=>{var Do="2.0.0",_o=Number.MAX_SAFE_INTEGER||9007199254740991,Co=16,Go=256-6,Bo=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Bt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Co,MAX_SAFE_BUILD_LENGTH:Go,MAX_SAFE_INTEGER:_o,RELEASE_TYPES:Bo,SEMVER_SPEC_VERSION:Do,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ue=l((bh,Ut)=>{var Uo=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Ut.exports=Uo});var ee=l((P,Vt)=>{var{MAX_SAFE_COMPONENT_LENGTH:ur,MAX_SAFE_BUILD_LENGTH:Vo,MAX_LENGTH:Fo}=ce(),Ho=ue();P=Vt.exports={};var Mo=P.re=[],Xo=P.safeRe=[],p=P.src=[],m=P.t={},Ko=0,fr="[a-zA-Z0-9-]",Yo=[["\\s",1],["\\d",Fo],[fr,Vo]],Jo=e=>{for(let[r,t]of Yo)e=e.split(`${r}*`).join(`${r}{0,${t}}`).split(`${r}+`).join(`${r}{1,${t}}`);return e},E=(e,r,t)=>{let n=Jo(r),i=Ko++;Ho(e,i,r),m[e]=i,p[i]=r,Mo[i]=new RegExp(r,t?"g":void 0),Xo[i]=new RegExp(n,t?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","\\d+");E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${fr}*`);E("MAINVERSION",`(${p[m.NUMERICIDENTIFIER]})\\.(${p[m.NUMERICIDENTIFIER]})\\.(${p[m.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${p[m.NUMERICIDENTIFIERLOOSE]})\\.(${p[m.NUMERICIDENTIFIERLOOSE]})\\.(${p[m.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${p[m.NUMERICIDENTIFIER]}|${p[m.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${p[m.NUMERICIDENTIFIERLOOSE]}|${p[m.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${p[m.PRERELEASEIDENTIFIER]}(?:\\.${p[m.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${p[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[m.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER",`${fr}+`);E("BUILD",`(?:\\+(${p[m.BUILDIDENTIFIER]}(?:\\.${p[m.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${p[m.MAINVERSION]}${p[m.PRERELEASE]}?${p[m.BUILD]}?`);E("FULL",`^${p[m.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${p[m.MAINVERSIONLOOSE]}${p[m.PRERELEASELOOSE]}?${p[m.BUILD]}?`);E("LOOSE",`^${p[m.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${p[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${p[m.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${p[m.XRANGEIDENTIFIER]})(?:\\.(${p[m.XRANGEIDENTIFIER]})(?:\\.(${p[m.XRANGEIDENTIFIER]})(?:${p[m.PRERELEASE]})?${p[m.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${p[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[m.XRANGEIDENTIFIERLOOSE]})(?:${p[m.PRERELEASELOOSE]})?${p[m.BUILD]}?)?)?`);E("XRANGE",`^${p[m.GTLT]}\\s*${p[m.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${p[m.GTLT]}\\s*${p[m.XRANGEPLAINLOOSE]}$`);E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ur}})(?:\\.(\\d{1,${ur}}))?(?:\\.(\\d{1,${ur}}))?`);E("COERCE",`${p[m.COERCEPLAIN]}(?:$|[^\\d])`);E("COERCEFULL",p[m.COERCEPLAIN]+`(?:${p[m.PRERELEASE]})?(?:${p[m.BUILD]})?(?:$|[^\\d])`);E("COERCERTL",p[m.COERCE],!0);E("COERCERTLFULL",p[m.COERCEFULL],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${p[m.LONETILDE]}\\s+`,!0);P.tildeTrimReplace="$1~";E("TILDE",`^${p[m.LONETILDE]}${p[m.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${p[m.LONETILDE]}${p[m.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${p[m.LONECARET]}\\s+`,!0);P.caretTrimReplace="$1^";E("CARET",`^${p[m.LONECARET]}${p[m.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${p[m.LONECARET]}${p[m.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${p[m.GTLT]}\\s*(${p[m.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${p[m.GTLT]}\\s*(${p[m.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${p[m.GTLT]}\\s*(${p[m.LOOSEPLAIN]}|${p[m.XRANGEPLAIN]})`,!0);P.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${p[m.XRANGEPLAIN]})\\s+-\\s+(${p[m.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${p[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[m.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var je=l((Ih,Ft)=>{var Wo=Object.freeze({loose:!0}),ko=Object.freeze({}),zo=e=>e?typeof e!="object"?Wo:e:ko;Ft.exports=zo});var lr=l((Rh,Xt)=>{var Ht=/^[0-9]+$/,Mt=(e,r)=>{let t=Ht.test(e),n=Ht.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1},Zo=(e,r)=>Mt(r,e);Xt.exports={compareIdentifiers:Mt,rcompareIdentifiers:Zo}});var I=l((Ah,Wt)=>{var Pe=ue(),{MAX_LENGTH:Kt,MAX_SAFE_INTEGER:De}=ce(),{safeRe:Yt,t:Jt}=ee(),Qo=je(),{compareIdentifiers:re}=lr(),hr=class e{constructor(r,t){if(t=Qo(t),r instanceof e){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>Kt)throw new TypeError(`version is longer than ${Kt} characters`);Pe("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=r.trim().match(t.loose?Yt[Jt.LOOSE]:Yt[Jt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>De||this.major<0)throw new TypeError("Invalid major version");if(this.minor>De||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>De||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<De)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(Pe("SemVer.compare",this.version,this.options,r),!(r instanceof e)){if(typeof r=="string"&&r===this.version)return 0;r=new e(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof e||(r=new e(r,this.options)),re(this.major,r.major)||re(this.minor,r.minor)||re(this.patch,r.patch)}comparePre(r){if(r instanceof e||(r=new e(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=r.prerelease[t];if(Pe("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return re(n,i)}while(++t)}compareBuild(r){r instanceof e||(r=new e(r,this.options));let t=0;do{let n=this.build[t],i=r.build[t];if(Pe("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return re(n,i)}while(++t)}inc(r,t,n){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let s=[t,i];n===!1&&(s=[t]),re(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Wt.exports=hr});var H=l((Th,zt)=>{var kt=I(),ea=(e,r,t=!1)=>{if(e instanceof kt)return e;try{return new kt(e,r)}catch(n){if(!t)return null;throw n}};zt.exports=ea});var Qt=l(($h,Zt)=>{var ra=H(),ta=(e,r)=>{let t=ra(e,r);return t?t.version:null};Zt.exports=ta});var rn=l((Nh,en)=>{var na=H(),ia=(e,r)=>{let t=na(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};en.exports=ia});var sn=l((Oh,nn)=>{var tn=I(),sa=(e,r,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new tn(e instanceof tn?e.version:e,t).inc(r,n,i).version}catch{return null}};nn.exports=sa});var cn=l((xh,an)=>{var on=H(),oa=(e,r)=>{let t=on(e,null,!0),n=on(r,null,!0),i=t.compare(n);if(i===0)return null;let s=i>0,o=s?t:n,c=s?n:t,f=!!o.prerelease.length;if(!!c.prerelease.length&&!f)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";let h=f?"pre":"";return t.major!==n.major?h+"major":t.minor!==n.minor?h+"minor":t.patch!==n.patch?h+"patch":"prerelease"};an.exports=oa});var fn=l((Lh,un)=>{var aa=I(),ca=(e,r)=>new aa(e,r).major;un.exports=ca});var hn=l((qh,ln)=>{var ua=I(),fa=(e,r)=>new ua(e,r).minor;ln.exports=fa});var mn=l((jh,pn)=>{var la=I(),ha=(e,r)=>new la(e,r).patch;pn.exports=ha});var En=l((Ph,dn)=>{var pa=H(),ma=(e,r)=>{let t=pa(e,r);return t&&t.prerelease.length?t.prerelease:null};dn.exports=ma});var N=l((Dh,gn)=>{var yn=I(),da=(e,r,t)=>new yn(e,t).compare(new yn(r,t));gn.exports=da});var vn=l((_h,Sn)=>{var Ea=N(),ya=(e,r,t)=>Ea(r,e,t);Sn.exports=ya});var bn=l((Ch,wn)=>{var ga=N(),Sa=(e,r)=>ga(e,r,!0);wn.exports=Sa});var _e=l((Gh,Rn)=>{var In=I(),va=(e,r,t)=>{let n=new In(e,t),i=new In(r,t);return n.compare(i)||n.compareBuild(i)};Rn.exports=va});var Tn=l((Bh,An)=>{var wa=_e(),ba=(e,r)=>e.sort((t,n)=>wa(t,n,r));An.exports=ba});var Nn=l((Uh,$n)=>{var Ia=_e(),Ra=(e,r)=>e.sort((t,n)=>Ia(n,t,r));$n.exports=Ra});var fe=l((Vh,On)=>{var Aa=N(),Ta=(e,r,t)=>Aa(e,r,t)>0;On.exports=Ta});var Ce=l((Fh,xn)=>{var $a=N(),Na=(e,r,t)=>$a(e,r,t)<0;xn.exports=Na});var pr=l((Hh,Ln)=>{var Oa=N(),xa=(e,r,t)=>Oa(e,r,t)===0;Ln.exports=xa});var mr=l((Mh,qn)=>{var La=N(),qa=(e,r,t)=>La(e,r,t)!==0;qn.exports=qa});var Ge=l((Xh,jn)=>{var ja=N(),Pa=(e,r,t)=>ja(e,r,t)>=0;jn.exports=Pa});var Be=l((Kh,Pn)=>{var Da=N(),_a=(e,r,t)=>Da(e,r,t)<=0;Pn.exports=_a});var dr=l((Yh,Dn)=>{var Ca=pr(),Ga=mr(),Ba=fe(),Ua=Ge(),Va=Ce(),Fa=Be(),Ha=(e,r,t,n)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return Ca(e,t,n);case"!=":return Ga(e,t,n);case">":return Ba(e,t,n);case">=":return Ua(e,t,n);case"<":return Va(e,t,n);case"<=":return Fa(e,t,n);default:throw new TypeError(`Invalid operator: ${r}`)}};Dn.exports=Ha});var Cn=l((Jh,_n)=>{var Ma=I(),Xa=H(),{safeRe:Ue,t:Ve}=ee(),Ka=(e,r)=>{if(e instanceof Ma)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let t=null;if(!r.rtl)t=e.match(r.includePrerelease?Ue[Ve.COERCEFULL]:Ue[Ve.COERCE]);else{let f=r.includePrerelease?Ue[Ve.COERCERTLFULL]:Ue[Ve.COERCERTL],u;for(;(u=f.exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||u.index+u[0].length!==t.index+t[0].length)&&(t=u),f.lastIndex=u.index+u[1].length+u[2].length;f.lastIndex=-1}if(t===null)return null;let n=t[2],i=t[3]||"0",s=t[4]||"0",o=r.includePrerelease&&t[5]?`-${t[5]}`:"",c=r.includePrerelease&&t[6]?`+${t[6]}`:"";return Xa(`${n}.${i}.${s}${o}${c}`,r)};_n.exports=Ka});var Bn=l((Wh,Gn)=>{"use strict";Gn.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}});var Vn=l((kh,Un)=>{"use strict";Un.exports=y;y.Node=M;y.create=y;function y(e){var r=this;if(r instanceof y||(r=new y),r.tail=null,r.head=null,r.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){r.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)r.push(arguments[t]);return r}y.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var r=e.next,t=e.prev;return r&&(r.prev=t),t&&(t.next=r),e===this.head&&(this.head=r),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,r};y.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var r=this.head;e.list=this,e.next=r,r&&(r.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};y.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var r=this.tail;e.list=this,e.prev=r,r&&(r.next=e),this.tail=e,this.head||(this.head=e),this.length++}};y.prototype.push=function(){for(var e=0,r=arguments.length;e<r;e++)Ja(this,arguments[e]);return this.length};y.prototype.unshift=function(){for(var e=0,r=arguments.length;e<r;e++)Wa(this,arguments[e]);return this.length};y.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};y.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};y.prototype.forEach=function(e,r){r=r||this;for(var t=this.head,n=0;t!==null;n++)e.call(r,t.value,n,this),t=t.next};y.prototype.forEachReverse=function(e,r){r=r||this;for(var t=this.tail,n=this.length-1;t!==null;n--)e.call(r,t.value,n,this),t=t.prev};y.prototype.get=function(e){for(var r=0,t=this.head;t!==null&&r<e;r++)t=t.next;if(r===e&&t!==null)return t.value};y.prototype.getReverse=function(e){for(var r=0,t=this.tail;t!==null&&r<e;r++)t=t.prev;if(r===e&&t!==null)return t.value};y.prototype.map=function(e,r){r=r||this;for(var t=new y,n=this.head;n!==null;)t.push(e.call(r,n.value,this)),n=n.next;return t};y.prototype.mapReverse=function(e,r){r=r||this;for(var t=new y,n=this.tail;n!==null;)t.push(e.call(r,n.value,this)),n=n.prev;return t};y.prototype.reduce=function(e,r){var t,n=this.head;if(arguments.length>1)t=r;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=e(t,n.value,i),n=n.next;return t};y.prototype.reduceReverse=function(e,r){var t,n=this.tail;if(arguments.length>1)t=r;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=e(t,n.value,i),n=n.prev;return t};y.prototype.toArray=function(){for(var e=new Array(this.length),r=0,t=this.head;t!==null;r++)e[r]=t.value,t=t.next;return e};y.prototype.toArrayReverse=function(){for(var e=new Array(this.length),r=0,t=this.tail;t!==null;r++)e[r]=t.value,t=t.prev;return e};y.prototype.slice=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new y;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<r;n++,i=i.next)t.push(i.value);return t};y.prototype.sliceReverse=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new y;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=this.length,i=this.tail;i!==null&&n>r;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)t.push(i.value);return t};y.prototype.splice=function(e,r,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<r;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=Ya(this,i,t[n]);return s};y.prototype.reverse=function(){for(var e=this.head,r=this.tail,t=e;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=r,this.tail=e,this};function Ya(e,r,t){var n=r===e.head?new M(t,null,r,e):new M(t,r,r.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Ja(e,r){e.tail=new M(r,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Wa(e,r){e.head=new M(r,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function M(e,r,t,n){if(!(this instanceof M))return new M(e,r,t,n);this.list=n,this.value=e,r?(r.next=this,this.prev=r):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Bn()(y)}catch{}});var Kn=l((zh,Xn)=>{"use strict";var ka=Vn(),X=Symbol("max"),_=Symbol("length"),te=Symbol("lengthCalculator"),he=Symbol("allowStale"),K=Symbol("maxAge"),D=Symbol("dispose"),Fn=Symbol("noDisposeOnSet"),b=Symbol("lruList"),L=Symbol("cache"),Mn=Symbol("updateAgeOnGet"),Er=()=>1,gr=class{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");let t=this[X]=r.max||1/0,n=r.length||Er;if(this[te]=typeof n!="function"?Er:n,this[he]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[K]=r.maxAge||0,this[D]=r.dispose,this[Fn]=r.noDisposeOnSet||!1,this[Mn]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[X]=r||1/0,le(this)}get max(){return this[X]}set allowStale(r){this[he]=!!r}get allowStale(){return this[he]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[K]=r,le(this)}get maxAge(){return this[K]}set lengthCalculator(r){typeof r!="function"&&(r=Er),r!==this[te]&&(this[te]=r,this[_]=0,this[b].forEach(t=>{t.length=this[te](t.value,t.key),this[_]+=t.length})),le(this)}get lengthCalculator(){return this[te]}get length(){return this[_]}get itemCount(){return this[b].length}rforEach(r,t){t=t||this;for(let n=this[b].tail;n!==null;){let i=n.prev;Hn(this,r,n,t),n=i}}forEach(r,t){t=t||this;for(let n=this[b].head;n!==null;){let i=n.next;Hn(this,r,n,t),n=i}}keys(){return this[b].toArray().map(r=>r.key)}values(){return this[b].toArray().map(r=>r.value)}reset(){this[D]&&this[b]&&this[b].length&&this[b].forEach(r=>this[D](r.key,r.value)),this[L]=new Map,this[b]=new ka,this[_]=0}dump(){return this[b].map(r=>Fe(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[b]}set(r,t,n){if(n=n||this[K],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[te](t,r);if(this[L].has(r)){if(s>this[X])return ne(this,this[L].get(r)),!1;let f=this[L].get(r).value;return this[D]&&(this[Fn]||this[D](r,f.value)),f.now=i,f.maxAge=n,f.value=t,this[_]+=s-f.length,f.length=s,this.get(r),le(this),!0}let o=new Sr(r,t,s,i,n);return o.length>this[X]?(this[D]&&this[D](r,t),!1):(this[_]+=o.length,this[b].unshift(o),this[L].set(r,this[b].head),le(this),!0)}has(r){if(!this[L].has(r))return!1;let t=this[L].get(r).value;return!Fe(this,t)}get(r){return yr(this,r,!0)}peek(r){return yr(this,r,!1)}pop(){let r=this[b].tail;return r?(ne(this,r),r.value):null}del(r){ne(this,this[L].get(r))}load(r){this.reset();let t=Date.now();for(let n=r.length-1;n>=0;n--){let i=r[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-t;o>0&&this.set(i.k,i.v,o)}}}prune(){this[L].forEach((r,t)=>yr(this,t,!1))}},yr=(e,r,t)=>{let n=e[L].get(r);if(n){let i=n.value;if(Fe(e,i)){if(ne(e,n),!e[he])return}else t&&(e[Mn]&&(n.value.now=Date.now()),e[b].unshiftNode(n));return i.value}},Fe=(e,r)=>{if(!r||!r.maxAge&&!e[K])return!1;let t=Date.now()-r.now;return r.maxAge?t>r.maxAge:e[K]&&t>e[K]},le=e=>{if(e[_]>e[X])for(let r=e[b].tail;e[_]>e[X]&&r!==null;){let t=r.prev;ne(e,r),r=t}},ne=(e,r)=>{if(r){let t=r.value;e[D]&&e[D](t.key,t.value),e[_]-=t.length,e[L].delete(t.key),e[b].removeNode(r)}},Sr=class{constructor(r,t,n,i,s){this.key=r,this.value=t,this.length=n,this.now=i,this.maxAge=s||0}},Hn=(e,r,t,n)=>{let i=t.value;Fe(e,i)&&(ne(e,t),e[he]||(i=void 0)),i&&r.call(n,i.value,i.key,e)};Xn.exports=gr});var O=l((Zh,kn)=>{var vr=class e{constructor(r,t){if(t=Za(t),r instanceof e)return r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease?r:new e(r.raw,t);if(r instanceof wr)return this.raw=r.value,this.set=[[r]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Jn(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&sc(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(r=>r.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(r){let n=((this.options.includePrerelease&&nc)|(this.options.loose&&ic))+":"+r,i=Yn.get(n);if(i)return i;let s=this.options.loose,o=s?$[R.HYPHENRANGELOOSE]:$[R.HYPHENRANGE];r=r.replace(o,dc(this.options.includePrerelease)),v("hyphen replace",r),r=r.replace($[R.COMPARATORTRIM],ec),v("comparator trim",r),r=r.replace($[R.TILDETRIM],rc),v("tilde trim",r),r=r.replace($[R.CARETTRIM],tc),v("caret trim",r);let c=r.split(" ").map(a=>oc(a,this.options)).join(" ").split(/\s+/).map(a=>mc(a,this.options));s&&(c=c.filter(a=>(v("loose invalid filter",a,this.options),!!a.match($[R.COMPARATORLOOSE])))),v("range list",c);let f=new Map,u=c.map(a=>new wr(a,this.options));for(let a of u){if(Jn(a))return[a];f.set(a.value,a)}f.size>1&&f.has("")&&f.delete("");let h=[...f.values()];return Yn.set(n,h),h}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Wn(n,t)&&r.set.some(i=>Wn(i,t)&&n.every(s=>i.every(o=>s.intersects(o,t)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new Qa(r,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Ec(this.set[t],r,this.options))return!0;return!1}};kn.exports=vr;var za=Kn(),Yn=new za({max:1e3}),Za=je(),wr=pe(),v=ue(),Qa=I(),{safeRe:$,t:R,comparatorTrimReplace:ec,tildeTrimReplace:rc,caretTrimReplace:tc}=ee(),{FLAG_INCLUDE_PRERELEASE:nc,FLAG_LOOSE:ic}=ce(),Jn=e=>e.value==="<0.0.0-0",sc=e=>e.value==="",Wn=(e,r)=>{let t=!0,n=e.slice(),i=n.pop();for(;t&&n.length;)t=n.every(s=>i.intersects(s,r)),i=n.pop();return t},oc=(e,r)=>(v("comp",e,r),e=uc(e,r),v("caret",e),e=ac(e,r),v("tildes",e),e=lc(e,r),v("xrange",e),e=pc(e,r),v("stars",e),e),A=e=>!e||e.toLowerCase()==="x"||e==="*",ac=(e,r)=>e.trim().split(/\s+/).map(t=>cc(t,r)).join(" "),cc=(e,r)=>{let t=r.loose?$[R.TILDELOOSE]:$[R.TILDE];return e.replace(t,(n,i,s,o,c)=>{v("tilde",e,n,i,s,o,c);let f;return A(i)?f="":A(s)?f=`>=${i}.0.0 <${+i+1}.0.0-0`:A(o)?f=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(v("replaceTilde pr",c),f=`>=${i}.${s}.${o}-${c} <${i}.${+s+1}.0-0`):f=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,v("tilde return",f),f})},uc=(e,r)=>e.trim().split(/\s+/).map(t=>fc(t,r)).join(" "),fc=(e,r)=>{v("caret",e,r);let t=r.loose?$[R.CARETLOOSE]:$[R.CARET],n=r.includePrerelease?"-0":"";return e.replace(t,(i,s,o,c,f)=>{v("caret",e,i,s,o,c,f);let u;return A(s)?u="":A(o)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:A(c)?s==="0"?u=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:f?(v("replaceCaret pr",f),s==="0"?o==="0"?u=`>=${s}.${o}.${c}-${f} <${s}.${o}.${+c+1}-0`:u=`>=${s}.${o}.${c}-${f} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${c}-${f} <${+s+1}.0.0-0`):(v("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${c}${n} <${s}.${o}.${+c+1}-0`:u=`>=${s}.${o}.${c}${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${c} <${+s+1}.0.0-0`),v("caret return",u),u})},lc=(e,r)=>(v("replaceXRanges",e,r),e.split(/\s+/).map(t=>hc(t,r)).join(" ")),hc=(e,r)=>{e=e.trim();let t=r.loose?$[R.XRANGELOOSE]:$[R.XRANGE];return e.replace(t,(n,i,s,o,c,f)=>{v("xRange",e,n,i,s,o,c,f);let u=A(s),h=u||A(o),a=h||A(c),g=a;return i==="="&&g&&(i=""),f=r.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(h&&(o=0),c=0,i===">"?(i=">=",h?(s=+s+1,o=0,c=0):(o=+o+1,c=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(f="-0"),n=`${i+s}.${o}.${c}${f}`):h?n=`>=${s}.0.0${f} <${+s+1}.0.0-0`:a&&(n=`>=${s}.${o}.0${f} <${s}.${+o+1}.0-0`),v("xRange return",n),n})},pc=(e,r)=>(v("replaceStars",e,r),e.trim().replace($[R.STAR],"")),mc=(e,r)=>(v("replaceGTE0",e,r),e.trim().replace($[r.includePrerelease?R.GTE0PRE:R.GTE0],"")),dc=e=>(r,t,n,i,s,o,c,f,u,h,a,g,d)=>(A(n)?t="":A(i)?t=`>=${n}.0.0${e?"-0":""}`:A(s)?t=`>=${n}.${i}.0${e?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${e?"-0":""}`,A(u)?f="":A(h)?f=`<${+u+1}.0.0-0`:A(a)?f=`<${u}.${+h+1}.0-0`:g?f=`<=${u}.${h}.${a}-${g}`:e?f=`<${u}.${h}.${+a+1}-0`:f=`<=${f}`,`${t} ${f}`.trim()),Ec=(e,r,t)=>{for(let n=0;n<e.length;n++)if(!e[n].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let n=0;n<e.length;n++)if(v(e[n].semver),e[n].semver!==wr.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===r.major&&i.minor===r.minor&&i.patch===r.patch)return!0}return!1}return!0}});var pe=l((Qh,ti)=>{var me=Symbol("SemVer ANY"),Rr=class e{static get ANY(){return me}constructor(r,t){if(t=zn(t),r instanceof e){if(r.loose===!!t.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),Ir("comparator",r,t),this.options=t,this.loose=!!t.loose,this.parse(r),this.semver===me?this.value="":this.value=this.operator+this.semver.version,Ir("comp",this)}parse(r){let t=this.options.loose?Zn[Qn.COMPARATORLOOSE]:Zn[Qn.COMPARATOR],n=r.match(t);if(!n)throw new TypeError(`Invalid comparator: ${r}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new ei(n[2],this.options.loose):this.semver=me}toString(){return this.value}test(r){if(Ir("Comparator.test",r,this.options.loose),this.semver===me||r===me)return!0;if(typeof r=="string")try{r=new ei(r,this.options)}catch{return!1}return br(r,this.operator,this.semver,this.options)}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new ri(r.value,t).test(this.value):r.operator===""?r.value===""?!0:new ri(this.value,t).test(r.semver):(t=zn(t),t.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||br(this.semver,"<",r.semver,t)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||br(this.semver,">",r.semver,t)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}};ti.exports=Rr;var zn=je(),{safeRe:Zn,t:Qn}=ee(),br=dr(),Ir=ue(),ei=I(),ri=O()});var de=l((ep,ni)=>{var yc=O(),gc=(e,r,t)=>{try{r=new yc(r,t)}catch{return!1}return r.test(e)};ni.exports=gc});var si=l((rp,ii)=>{var Sc=O(),vc=(e,r)=>new Sc(e,r).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));ii.exports=vc});var ai=l((tp,oi)=>{var wc=I(),bc=O(),Ic=(e,r,t)=>{let n=null,i=null,s=null;try{s=new bc(r,t)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new wc(n,t))}),n};oi.exports=Ic});var ui=l((np,ci)=>{var Rc=I(),Ac=O(),Tc=(e,r,t)=>{let n=null,i=null,s=null;try{s=new Ac(r,t)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Rc(n,t))}),n};ci.exports=Tc});var hi=l((ip,li)=>{var Ar=I(),$c=O(),fi=fe(),Nc=(e,r)=>{e=new $c(e,r);let t=new Ar("0.0.0");if(e.test(t)||(t=new Ar("0.0.0-0"),e.test(t)))return t;t=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(o=>{let c=new Ar(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||fi(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!t||fi(t,s))&&(t=s)}return t&&e.test(t)?t:null};li.exports=Nc});var mi=l((sp,pi)=>{var Oc=O(),xc=(e,r)=>{try{return new Oc(e,r).range||"*"}catch{return null}};pi.exports=xc});var He=l((op,gi)=>{var Lc=I(),yi=pe(),{ANY:qc}=yi,jc=O(),Pc=de(),di=fe(),Ei=Ce(),Dc=Be(),_c=Ge(),Cc=(e,r,t,n)=>{e=new Lc(e,n),r=new jc(r,n);let i,s,o,c,f;switch(t){case">":i=di,s=Dc,o=Ei,c=">",f=">=";break;case"<":i=Ei,s=_c,o=di,c="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pc(e,r,n))return!1;for(let u=0;u<r.set.length;++u){let h=r.set[u],a=null,g=null;if(h.forEach(d=>{d.semver===qc&&(d=new yi(">=0.0.0")),a=a||d,g=g||d,i(d.semver,a.semver,n)?a=d:o(d.semver,g.semver,n)&&(g=d)}),a.operator===c||a.operator===f||(!g.operator||g.operator===c)&&s(e,g.semver))return!1;if(g.operator===f&&o(e,g.semver))return!1}return!0};gi.exports=Cc});var vi=l((ap,Si)=>{var Gc=He(),Bc=(e,r,t)=>Gc(e,r,">",t);Si.exports=Bc});var bi=l((cp,wi)=>{var Uc=He(),Vc=(e,r,t)=>Uc(e,r,"<",t);wi.exports=Vc});var Ai=l((up,Ri)=>{var Ii=O(),Fc=(e,r,t)=>(e=new Ii(e,t),r=new Ii(r,t),e.intersects(r,t));Ri.exports=Fc});var $i=l((fp,Ti)=>{var Hc=de(),Mc=N();Ti.exports=(e,r,t)=>{let n=[],i=null,s=null,o=e.sort((h,a)=>Mc(h,a,t));for(let h of o)Hc(h,r,t)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[h,a]of n)h===a?c.push(h):!a&&h===o[0]?c.push("*"):a?h===o[0]?c.push(`<=${a}`):c.push(`${h} - ${a}`):c.push(`>=${h}`);let f=c.join(" || "),u=typeof r.raw=="string"?r.raw:String(r);return f.length<u.length?f:r}});var ji=l((lp,qi)=>{var Ni=O(),$r=pe(),{ANY:Tr}=$r,Ee=de(),Nr=N(),Xc=(e,r,t={})=>{if(e===r)return!0;e=new Ni(e,t),r=new Ni(r,t);let n=!1;e:for(let i of e.set){for(let s of r.set){let o=Yc(i,s,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Kc=[new $r(">=0.0.0-0")],Oi=[new $r(">=0.0.0")],Yc=(e,r,t)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===Tr){if(r.length===1&&r[0].semver===Tr)return!0;t.includePrerelease?e=Kc:e=Oi}if(r.length===1&&r[0].semver===Tr){if(t.includePrerelease)return!0;r=Oi}let n=new Set,i,s;for(let d of e)d.operator===">"||d.operator===">="?i=xi(i,d,t):d.operator==="<"||d.operator==="<="?s=Li(s,d,t):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Nr(i.semver,s.semver,t),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let d of n){if(i&&!Ee(d,String(i),t)||s&&!Ee(d,String(s),t))return null;for(let w of r)if(!Ee(d,String(w),t))return!1;return!0}let c,f,u,h,a=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;a&&a.prerelease.length===1&&s.operator==="<"&&a.prerelease[0]===0&&(a=!1);for(let d of r){if(h=h||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(g&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===g.major&&d.semver.minor===g.minor&&d.semver.patch===g.patch&&(g=!1),d.operator===">"||d.operator===">="){if(c=xi(i,d,t),c===d&&c!==i)return!1}else if(i.operator===">="&&!Ee(i.semver,String(d),t))return!1}if(s){if(a&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===a.major&&d.semver.minor===a.minor&&d.semver.patch===a.patch&&(a=!1),d.operator==="<"||d.operator==="<="){if(f=Li(s,d,t),f===d&&f!==s)return!1}else if(s.operator==="<="&&!Ee(s.semver,String(d),t))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&h&&!i&&o!==0||g||a)},xi=(e,r,t)=>{if(!e)return r;let n=Nr(e.semver,r.semver,t);return n>0?e:n<0||r.operator===">"&&e.operator===">="?r:e},Li=(e,r,t)=>{if(!e)return r;let n=Nr(e.semver,r.semver,t);return n<0?e:n>0||r.operator==="<"&&e.operator==="<="?r:e};qi.exports=Xc});var Me=l((hp,_i)=>{var Or=ee(),Pi=ce(),Jc=I(),Di=lr(),Wc=H(),kc=Qt(),zc=rn(),Zc=sn(),Qc=cn(),eu=fn(),ru=hn(),tu=mn(),nu=En(),iu=N(),su=vn(),ou=bn(),au=_e(),cu=Tn(),uu=Nn(),fu=fe(),lu=Ce(),hu=pr(),pu=mr(),mu=Ge(),du=Be(),Eu=dr(),yu=Cn(),gu=pe(),Su=O(),vu=de(),wu=si(),bu=ai(),Iu=ui(),Ru=hi(),Au=mi(),Tu=He(),$u=vi(),Nu=bi(),Ou=Ai(),xu=$i(),Lu=ji();_i.exports={parse:Wc,valid:kc,clean:zc,inc:Zc,diff:Qc,major:eu,minor:ru,patch:tu,prerelease:nu,compare:iu,rcompare:su,compareLoose:ou,compareBuild:au,sort:cu,rsort:uu,gt:fu,lt:lu,eq:hu,neq:pu,gte:mu,lte:du,cmp:Eu,coerce:yu,Comparator:gu,Range:Su,satisfies:vu,toComparators:wu,maxSatisfying:bu,minSatisfying:Iu,minVersion:Ru,validRange:Au,outside:Tu,gtr:$u,ltr:Nu,intersects:Ou,simplifyRange:xu,subset:Lu,SemVer:Jc,re:Or.re,src:Or.src,tokens:Or.t,SEMVER_SPEC_VERSION:Pi.SEMVER_SPEC_VERSION,RELEASE_TYPES:Pi.RELEASE_TYPES,compareIdentifiers:Di.compareIdentifiers,rcompareIdentifiers:Di.rcompareIdentifiers}});var Gi=l((pp,Ci)=>{var qu=Me();Ci.exports=qu.satisfies(process.version,">=15.7.0")});var Ui=l((mp,Bi)=>{var ju=Me();Bi.exports=ju.satisfies(process.version,">=16.9.0")});var xr=l((dp,Vi)=>{var Pu=Gi(),Du=Ui(),_u={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},Cu={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};Vi.exports=function(e,r){if(!e||!r)return;let t=r.asymmetricKeyType;if(!t)return;let n=_u[t];if(!n)throw new Error(`Unknown key type "${t}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${t}" key type must be one of: ${n.join(", ")}.`);if(Pu)switch(t){case"ec":let i=r.asymmetricKeyDetails.namedCurve,s=Cu[e];if(i!==s)throw new Error(`"alg" parameter "${e}" requires curve "${s}".`);break;case"rsa-pss":if(Du){let o=parseInt(e.slice(-3),10),{hashAlgorithm:c,mgf1HashAlgorithm:f,saltLength:u}=r.asymmetricKeyDetails;if(c!==`sha${o}`||f!==c)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(u!==void 0&&u>o>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var Lr=l((Ep,Fi)=>{var Gu=Me();Fi.exports=Gu.satisfies(process.version,"^6.12.0 || >=8.0.0")});var Xi=l((yp,Mi)=>{var S=ae(),Bu=or(),Hi=ar(),Uu=sr(),Vu=cr(),Fu=xr(),Hu=Lr(),Mu=Ne(),{KeyObject:Xu,createSecretKey:Ku,createPublicKey:Yu}=require("crypto"),qr=["RS256","RS384","RS512"],Ju=["ES256","ES384","ES512"],jr=["RS256","RS384","RS512"],Wu=["HS256","HS384","HS512"];Hu&&(qr.splice(qr.length,0,"PS256","PS384","PS512"),jr.splice(jr.length,0,"PS256","PS384","PS512"));Mi.exports=function(e,r,t,n){typeof t=="function"&&!n&&(n=t,t={}),t||(t={}),t=Object.assign({},t);let i;if(n?i=n:i=function(h,a){if(h)throw h;return a},t.clockTimestamp&&typeof t.clockTimestamp!="number")return i(new S("clockTimestamp must be a number"));if(t.nonce!==void 0&&(typeof t.nonce!="string"||t.nonce.trim()===""))return i(new S("nonce must be a non-empty string"));if(t.allowInvalidAsymmetricKeyTypes!==void 0&&typeof t.allowInvalidAsymmetricKeyTypes!="boolean")return i(new S("allowInvalidAsymmetricKeyTypes must be a boolean"));let s=t.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return i(new S("jwt must be provided"));if(typeof e!="string")return i(new S("jwt must be a string"));let o=e.split(".");if(o.length!==3)return i(new S("jwt malformed"));let c;try{c=Uu(e,{complete:!0})}catch(h){return i(h)}if(!c)return i(new S("invalid token"));let f=c.header,u;if(typeof r=="function"){if(!n)return i(new S("verify must be called asynchronous if secret or public key is provided as a callback"));u=r}else u=function(h,a){return a(null,r)};return u(f,function(h,a){if(h)return i(new S("error in secret or public key callback: "+h.message));let g=o[2].trim()!=="";if(!g&&a)return i(new S("jwt signature is required"));if(g&&!a)return i(new S("secret or public key must be provided"));if(!g&&!t.algorithms)return i(new S('please specify "none" in "algorithms" to verify unsigned tokens'));if(a!=null&&!(a instanceof Xu))try{a=Yu(a)}catch{try{a=Ku(typeof a=="string"?Buffer.from(a):a)}catch{return i(new S("secretOrPublicKey is not valid key material"))}}if(t.algorithms||(a.type==="secret"?t.algorithms=Wu:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?t.algorithms=jr:a.asymmetricKeyType==="ec"?t.algorithms=Ju:t.algorithms=qr),t.algorithms.indexOf(c.header.alg)===-1)return i(new S("invalid algorithm"));if(f.alg.startsWith("HS")&&a.type!=="secret")return i(new S(`secretOrPublicKey must be a symmetric key when using ${f.alg}`));if(/^(?:RS|PS|ES)/.test(f.alg)&&a.type!=="public")return i(new S(`secretOrPublicKey must be an asymmetric key when using ${f.alg}`));if(!t.allowInvalidAsymmetricKeyTypes)try{Fu(f.alg,a)}catch(T){return i(T)}let d;try{d=Mu.verify(e,c.header.alg,a)}catch(T){return i(T)}if(!d)return i(new S("invalid signature"));let w=c.payload;if(typeof w.nbf<"u"&&!t.ignoreNotBefore){if(typeof w.nbf!="number")return i(new S("invalid nbf value"));if(w.nbf>s+(t.clockTolerance||0))return i(new Bu("jwt not active",new Date(w.nbf*1e3)))}if(typeof w.exp<"u"&&!t.ignoreExpiration){if(typeof w.exp!="number")return i(new S("invalid exp value"));if(s>=w.exp+(t.clockTolerance||0))return i(new Hi("jwt expired",new Date(w.exp*1e3)))}if(t.audience){let T=Array.isArray(t.audience)?t.audience:[t.audience];if(!(Array.isArray(w.aud)?w.aud:[w.aud]).some(function(Vr){return T.some(function(We){return We instanceof RegExp?We.test(Vr):We===Vr})}))return i(new S("jwt audience invalid. expected: "+T.join(" or ")))}if(t.issuer&&(typeof t.issuer=="string"&&w.iss!==t.issuer||Array.isArray(t.issuer)&&t.issuer.indexOf(w.iss)===-1))return i(new S("jwt issuer invalid. expected: "+t.issuer));if(t.subject&&w.sub!==t.subject)return i(new S("jwt subject invalid. expected: "+t.subject));if(t.jwtid&&w.jti!==t.jwtid)return i(new S("jwt jwtid invalid. expected: "+t.jwtid));if(t.nonce&&w.nonce!==t.nonce)return i(new S("jwt nonce invalid. expected: "+t.nonce));if(t.maxAge){if(typeof w.iat!="number")return i(new S("iat required when maxAge is specified"));let T=Vu(t.maxAge,w.iat);if(typeof T>"u")return i(new S('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=T+(t.clockTolerance||0))return i(new Hi("maxAge exceeded",new Date(T*1e3)))}if(t.complete===!0){let T=c.signature;return i(null,{header:f,payload:w,signature:T})}return i(null,w)})}});var zi=l((gp,ki)=>{var Ki=1/0,Ji=9007199254740991,ku=17976931348623157e292,Yi=0/0,zu="[object Arguments]",Zu="[object Function]",Qu="[object GeneratorFunction]",ef="[object String]",rf="[object Symbol]",tf=/^\s+|\s+$/g,nf=/^[-+]0x[0-9a-f]+$/i,sf=/^0b[01]+$/i,of=/^0o[0-7]+$/i,af=/^(?:0|[1-9]\d*)$/,cf=parseInt;function uf(e,r){for(var t=-1,n=e?e.length:0,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}function ff(e,r,t,n){for(var i=e.length,s=t+(n?1:-1);n?s--:++s<i;)if(r(e[s],s,e))return s;return-1}function lf(e,r,t){if(r!==r)return ff(e,hf,t);for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}function hf(e){return e!==e}function pf(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}function mf(e,r){return uf(r,function(t){return e[t]})}function df(e,r){return function(t){return e(r(t))}}var Xe=Object.prototype,Dr=Xe.hasOwnProperty,Ke=Xe.toString,Ef=Xe.propertyIsEnumerable,yf=df(Object.keys,Object),gf=Math.max;function Sf(e,r){var t=Wi(e)||Rf(e)?pf(e.length,String):[],n=t.length,i=!!n;for(var s in e)(r||Dr.call(e,s))&&!(i&&(s=="length"||wf(s,n)))&&t.push(s);return t}function vf(e){if(!bf(e))return yf(e);var r=[];for(var t in Object(e))Dr.call(e,t)&&t!="constructor"&&r.push(t);return r}function wf(e,r){return r=r??Ji,!!r&&(typeof e=="number"||af.test(e))&&e>-1&&e%1==0&&e<r}function bf(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Xe;return e===t}function If(e,r,t,n){e=_r(e)?e:Pf(e),t=t&&!n?Lf(t):0;var i=e.length;return t<0&&(t=gf(i+t,0)),Nf(e)?t<=i&&e.indexOf(r,t)>-1:!!i&&lf(e,r,t)>-1}function Rf(e){return Af(e)&&Dr.call(e,"callee")&&(!Ef.call(e,"callee")||Ke.call(e)==zu)}var Wi=Array.isArray;function _r(e){return e!=null&&$f(e.length)&&!Tf(e)}function Af(e){return Cr(e)&&_r(e)}function Tf(e){var r=Pr(e)?Ke.call(e):"";return r==Zu||r==Qu}function $f(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ji}function Pr(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Cr(e){return!!e&&typeof e=="object"}function Nf(e){return typeof e=="string"||!Wi(e)&&Cr(e)&&Ke.call(e)==ef}function Of(e){return typeof e=="symbol"||Cr(e)&&Ke.call(e)==rf}function xf(e){if(!e)return e===0?e:0;if(e=qf(e),e===Ki||e===-Ki){var r=e<0?-1:1;return r*ku}return e===e?e:0}function Lf(e){var r=xf(e),t=r%1;return r===r?t?r-t:r:0}function qf(e){if(typeof e=="number")return e;if(Of(e))return Yi;if(Pr(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Pr(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(tf,"");var t=sf.test(e);return t||of.test(e)?cf(e.slice(2),t?2:8):nf.test(e)?Yi:+e}function jf(e){return _r(e)?Sf(e):vf(e)}function Pf(e){return e?mf(e,jf(e)):[]}ki.exports=If});var Qi=l((Sp,Zi)=>{var Df="[object Boolean]",_f=Object.prototype,Cf=_f.toString;function Gf(e){return e===!0||e===!1||Bf(e)&&Cf.call(e)==Df}function Bf(e){return!!e&&typeof e=="object"}Zi.exports=Gf});var is=l((vp,ns)=>{var es=1/0,Uf=17976931348623157e292,rs=0/0,Vf="[object Symbol]",Ff=/^\s+|\s+$/g,Hf=/^[-+]0x[0-9a-f]+$/i,Mf=/^0b[01]+$/i,Xf=/^0o[0-7]+$/i,Kf=parseInt,Yf=Object.prototype,Jf=Yf.toString;function Wf(e){return typeof e=="number"&&e==Qf(e)}function ts(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function kf(e){return!!e&&typeof e=="object"}function zf(e){return typeof e=="symbol"||kf(e)&&Jf.call(e)==Vf}function Zf(e){if(!e)return e===0?e:0;if(e=el(e),e===es||e===-es){var r=e<0?-1:1;return r*Uf}return e===e?e:0}function Qf(e){var r=Zf(e),t=r%1;return r===r?t?r-t:r:0}function el(e){if(typeof e=="number")return e;if(zf(e))return rs;if(ts(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=ts(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Ff,"");var t=Mf.test(e);return t||Xf.test(e)?Kf(e.slice(2),t?2:8):Hf.test(e)?rs:+e}ns.exports=Wf});var os=l((wp,ss)=>{var rl="[object Number]",tl=Object.prototype,nl=tl.toString;function il(e){return!!e&&typeof e=="object"}function sl(e){return typeof e=="number"||il(e)&&nl.call(e)==rl}ss.exports=sl});var fs=l((bp,us)=>{var ol="[object Object]";function al(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch{}return r}function cl(e,r){return function(t){return e(r(t))}}var ul=Function.prototype,as=Object.prototype,cs=ul.toString,fl=as.hasOwnProperty,ll=cs.call(Object),hl=as.toString,pl=cl(Object.getPrototypeOf,Object);function ml(e){return!!e&&typeof e=="object"}function dl(e){if(!ml(e)||hl.call(e)!=ol||al(e))return!1;var r=pl(e);if(r===null)return!0;var t=fl.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&cs.call(t)==ll}us.exports=dl});var hs=l((Ip,ls)=>{var El="[object String]",yl=Object.prototype,gl=yl.toString,Sl=Array.isArray;function vl(e){return!!e&&typeof e=="object"}function wl(e){return typeof e=="string"||!Sl(e)&&vl(e)&&gl.call(e)==El}ls.exports=wl});var ys=l((Rp,Es)=>{var bl="Expected a function",ps=1/0,Il=17976931348623157e292,ms=0/0,Rl="[object Symbol]",Al=/^\s+|\s+$/g,Tl=/^[-+]0x[0-9a-f]+$/i,$l=/^0b[01]+$/i,Nl=/^0o[0-7]+$/i,Ol=parseInt,xl=Object.prototype,Ll=xl.toString;function ql(e,r){var t;if(typeof r!="function")throw new TypeError(bl);return e=Cl(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}function jl(e){return ql(2,e)}function ds(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Pl(e){return!!e&&typeof e=="object"}function Dl(e){return typeof e=="symbol"||Pl(e)&&Ll.call(e)==Rl}function _l(e){if(!e)return e===0?e:0;if(e=Gl(e),e===ps||e===-ps){var r=e<0?-1:1;return r*Il}return e===e?e:0}function Cl(e){var r=_l(e),t=r%1;return r===r?t?r-t:r:0}function Gl(e){if(typeof e=="number")return e;if(Dl(e))return ms;if(ds(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=ds(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Al,"");var t=$l.test(e);return t||Nl.test(e)?Ol(e.slice(2),t?2:8):Tl.test(e)?ms:+e}Es.exports=jl});var Ts=l((Ap,As)=>{var gs=cr(),Bl=Lr(),Ul=xr(),Ss=Ne(),Vl=zi(),Ye=Qi(),vs=is(),Gr=os(),bs=fs(),G=hs(),Fl=ys(),{KeyObject:Hl,createSecretKey:Ml,createPrivateKey:Xl}=require("crypto"),Is=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];Bl&&Is.splice(3,0,"PS256","PS384","PS512");var Kl={expiresIn:{isValid:function(e){return vs(e)||G(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return vs(e)||G(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return G(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:Vl.bind(null,Is),message:'"algorithm" must be a valid string enum value'},header:{isValid:bs,message:'"header" must be an object'},encoding:{isValid:G,message:'"encoding" must be a string'},issuer:{isValid:G,message:'"issuer" must be a string'},subject:{isValid:G,message:'"subject" must be a string'},jwtid:{isValid:G,message:'"jwtid" must be a string'},noTimestamp:{isValid:Ye,message:'"noTimestamp" must be a boolean'},keyid:{isValid:G,message:'"keyid" must be a string'},mutatePayload:{isValid:Ye,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:Ye,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:Ye,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},Yl={iat:{isValid:Gr,message:'"iat" should be a number of seconds'},exp:{isValid:Gr,message:'"exp" should be a number of seconds'},nbf:{isValid:Gr,message:'"nbf" should be a number of seconds'}};function Rs(e,r,t,n){if(!bs(t))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(t).forEach(function(i){let s=e[i];if(!s){if(!r)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(t[i]))throw new Error(s.message)})}function Jl(e){return Rs(Kl,!1,e,"options")}function Wl(e){return Rs(Yl,!0,e,"payload")}var ws={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},kl=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];As.exports=function(e,r,t,n){typeof t=="function"?(n=t,t={}):t=t||{};let i=typeof e=="object"&&!Buffer.isBuffer(e),s=Object.assign({alg:t.algorithm||"HS256",typ:i?"JWT":void 0,kid:t.keyid},t.header);function o(u){if(n)return n(u);throw u}if(!r&&t.algorithm!=="none")return o(new Error("secretOrPrivateKey must have a value"));if(r!=null&&!(r instanceof Hl))try{r=Xl(r)}catch{try{r=Ml(typeof r=="string"?Buffer.from(r):r)}catch{return o(new Error("secretOrPrivateKey is not valid key material"))}}if(s.alg.startsWith("HS")&&r.type!=="secret")return o(new Error(`secretOrPrivateKey must be a symmetric key when using ${s.alg}`));if(/^(?:RS|PS|ES)/.test(s.alg)){if(r.type!=="private")return o(new Error(`secretOrPrivateKey must be an asymmetric key when using ${s.alg}`));if(!t.allowInsecureKeySizes&&!s.alg.startsWith("ES")&&r.asymmetricKeyDetails!==void 0&&r.asymmetricKeyDetails.modulusLength<2048)return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`))}if(typeof e>"u")return o(new Error("payload is required"));if(i){try{Wl(e)}catch(u){return o(u)}t.mutatePayload||(e=Object.assign({},e))}else{let u=kl.filter(function(h){return typeof t[h]<"u"});if(u.length>0)return o(new Error("invalid "+u.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof t.expiresIn<"u")return o(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof t.notBefore<"u")return o(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{Jl(t)}catch(u){return o(u)}if(!t.allowInvalidAsymmetricKeyTypes)try{Ul(s.alg,r)}catch(u){return o(u)}let c=e.iat||Math.floor(Date.now()/1e3);if(t.noTimestamp?delete e.iat:i&&(e.iat=c),typeof t.notBefore<"u"){try{e.nbf=gs(t.notBefore,c)}catch(u){return o(u)}if(typeof e.nbf>"u")return o(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof t.expiresIn<"u"&&typeof e=="object"){try{e.exp=gs(t.expiresIn,c)}catch(u){return o(u)}if(typeof e.exp>"u")return o(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(ws).forEach(function(u){let h=ws[u];if(typeof t[u]<"u"){if(typeof e[h]<"u")return o(new Error('Bad "options.'+u+'" option. The payload already has an "'+h+'" property.'));e[h]=t[u]}});let f=t.encoding||"utf8";if(typeof n=="function")n=n&&Fl(n),Ss.createSign({header:s,privateKey:r,payload:e,encoding:f}).once("error",n).once("done",function(u){if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&u.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`));n(null,u)});else{let u=Ss.sign({header:s,payload:e,secret:r,encoding:f});if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&u.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`);return u}}});var Ns=l((Tp,$s)=>{$s.exports={decode:sr(),verify:Xi(),sign:Ts(),JsonWebTokenError:ae(),NotBeforeError:or(),TokenExpiredError:ar()}});var Zl={};Bs(Zl,{handler:()=>zl});module.exports=Vs(Zl);var B=class extends Error{constructor(t,n,i){super();this.code=t,this.errorMsg=n,this.internalError=i}};var U=class U{constructor(){this.format=()=>({statusCode:this.code,body:JSON.stringify({code:this.code,data:this.data,error:this.error})})}};U.toSuccess=r=>{let t=new U;return t.code=200,t.data=r,t.format()},U.toError=r=>{let t=new U;return t.code=r instanceof B?r.code:500,t.error=r instanceof B?r.errorMsg:"Internal Server Error",t.format()},U.toProxy=r=>({statusCode:302,headers:{Location:r}});var ge=U;var Os=Us(Ns());var Br=class extends Error{};Br.prototype.name="InvalidTokenError";var Je=async e=>{(0,Os.verify)(e,process.env.SECRET_KEY,(r,t)=>{if(r)throw new B(401,"Invalid token");return t})};var xs=e=>async(r,t,n)=>{try{r.body&&(r.body=typeof r.body=="object"?r.body:JSON.parse(r.body));let i=r?.headers?.Authorization,s=i&&i.split(" ")[1],o=await Je(s);return r.user=o,await e({...r},t,n)}catch(i){return ge.toError(i)}};var Ls="node-express-auth-policy",qs="2012-10-17";var Ur=(e,r,t)=>({principalId:Ls,policyDocument:{Version:qs,Statement:[{Action:"execute-api:Invoke",Effect:e,Resource:r}]},context:{...t}});var zl=xs(async(e,r,t)=>{let{authorizationToken:n,methodArn:i}=e;try{let s=await Je(n);t(null,Ur("Allow",i,{account:s}))}catch(s){console.log("Authorizer error: ",s),t("Unauthorized",Ur("Deny",i))}});0&&(module.exports={handler});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
